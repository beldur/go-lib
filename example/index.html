<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <script src="https://unpkg.com/react@15/dist/react.js"></script>
  <script src="https://unpkg.com/react-dom@15/dist/react-dom.js"></script>
  <script src="https://unpkg.com/prop-types@15/prop-types.js"></script>

  <script src="go-lib.js"></script>
</head>

<body>
  <div id="board-wrapper" style="width: 500px; height: 500px;"></div>

  <script>
    let color = 'B'
    const stones = []
    let hoverPositions = []

    const render = () => {
      const board = React.createElement(GoLib.components.Board, {
        width: 400,
        height: 400,
        size: 13,
        positions: stones,
        hoverPositions,
        onPositionClick: handleBoardPositionClick,
        onPositionHover: handleBoardPositionHover,
      })

      ReactDOM.render(board, document.getElementById('board-wrapper'))
    }

    const handleBoardPositionClick = (coordinate) => {
      stones.push({ color, coordinate })
      color = color === 'B' ? 'W' : 'B'
      render()
    }

    const handleBoardPositionHover = (coordinate) => {
      hoverPositions = coordinate ? [{ color, coordinate }] : []
      render()
    }

    render()
  </script>
</body>

</html>
